import{d as z,r as w,t as L,v as f,x as M,n as B,y as k,a as d,f as j,w as O,i as e,z as s,c,F as y,A as x,e as a,j as A,B as D,C as F}from"./app-7b3f8cee.js";import"./profile-d62389e6.js";const N={class:"flex justify-center lg:mx-8 h-full"},P={class:"flex flex-col bg-white border w-full shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},S={class:"rounded-t-xl pt-3 px-4 md:pt-4 md:px-5 dark:bg-slate-800 dark:border-gray-700"},H={class:"sm:hidden"},V={for:"Tab",class:"sr-only"},I={id:"Tab",class:"w-full border p-2 rounded-md border-gray-200"},W={select:""},E={class:"hidden sm:block"},G={class:"flex gap-6","aria-label":"Tabs"},Q={href:"#",class:"shrink-0 w-14 text-center rounded-md bg-sky-100 p-2 text-sm font-medium text-sky-600","aria-current":"page"},R={href:"#",class:"shrink-0 rounded-md p-2 text-sm font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700"},q={href:"#",class:"shrink-0 rounded-md p-2 text-sm font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700"},J={href:"#",class:"shrink-0 rounded-md p-2 text-sm font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700"},K={class:"flex justify-center gap-4 p-2 flex-wrap lg:flex-nowrap"},U={class:"flex flex-col w-full p-2"},X={class:"-m-1.5 overflow-x-auto"},Y={class:"p-1.5 min-w-full inline-block align-middle"},Z={class:"border rounded-md divide-y divide-gray-200 dark:border-gray-700 dark:divide-gray-700"},ee={class:"py-3 px-3 flex gap-4"},te={class:"relative max-w-xs rounded-md min-w-[35vw]"},se={for:"hs-table-search",class:"sr-only"},re=["placeholder"],ae=e("div",{class:"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-4"},[e("svg",{class:"h-3.5 w-3.5 mb-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[e("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})])],-1),oe={class:"relative max-w-xs rounded-md"},le={id:"hs-select-label",class:"p-2.5 border px-4 pr-9 block w-full border-gray-200 rounded-md text-sm focus:border-primary focus:ring-primary dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400"},de={disabled:"",selected:""},ie=e("option",null,"Latest",-1),ne=e("option",null,"Good",-1),ce=e("option",null,"Bad",-1),he={class:"relative max-w-xs rounded-md"},pe={id:"hs-select-label",class:"p-2.5 border px-4 pr-9 block w-full max-w-[10rem] border-gray-200 rounded-md text-sm focus:border-primary focus:ring-primary dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400"},ue={disabled:"",selected:""},ge=["value"],me={type:"button",class:"py-2 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-primary text-white hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800"},fe=e("svg",{class:"w-3.5 h-3.5",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[e("path",{d:"M5.071 1.243a.5.5 0 0 1 .858.514L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 6h1.717L5.07 1.243zM3.5 10.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3zm2.5 0a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3zm2.5 0a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3zm2.5 0a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3zm2.5 0a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3z"})],-1),ye=e("button",{type:"button",class:"inline-flex flex-shrink-0 justify-center items-center gap-2 h-[2.3rem] w-[2.3rem] rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 focus:ring-offset-white transition-all text-xs dark:bg-gray-800 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-gray-700 dark:focus:ring-offset-gray-800",href:"#"},[e("span",{class:"animate-spin inline-block w-4 h-4 border-[3px] border-current border-t-transparent text-primary rounded-full",role:"status","aria-label":"loading"},[e("span",{class:"sr-only"},"Loading...")])],-1),xe={class:"overflow-x-auto min-w-full"},_e={class:"p-0 min-w-full inline-block align-middle"},be={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ve={class:"bg-gray-50 dark:bg-gray-700"},we=e("th",{scope:"col",class:"py-3 px-4 pr-0"},[e("div",{class:"flex items-center h-5"},[e("input",{id:"hs-table-search-checkbox-all",type:"checkbox",class:"border-gray-200 rounded text-primary focus:ring-primary dark:bg-gray-800 dark:border-gray-700 dark:checked:bg-primary dark:checked:border-primary dark:focus:ring-offset-gray-800"}),e("label",{for:"hs-table-search-checkbox-all",class:"sr-only"},"Checkbox")])],-1),ke={scope:"col",class:"pl-4 py-3 text-xs font-medium text-gray-500 uppercase"},$e={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Ce={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Te={scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},ze={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Le={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Me={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Be={scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},je={class:"divide-y divide-gray-200 dark:divide-gray-700"},Oe=e("td",{class:"py-3 pl-4"},[e("div",{class:"flex items-center h-5"},[e("input",{id:"hs-table-search-checkbox-1",type:"checkbox",class:"border-gray-200 rounded text-primary focus:ring-primary dark:bg-gray-800 dark:border-gray-700 dark:checked:bg-primary dark:checked:border-primary dark:focus:ring-offset-gray-800"}),e("label",{for:"hs-table-search-checkbox-1",class:"sr-only"},"Checkbox")])],-1),Ae={class:"px-6 w-10 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},De={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"},Fe={class:"px-6 py-4 max-w-[8rem] truncate whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},Pe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Se={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},He={class:"px-6 py-4 max-w-[14rem] truncate whitespace-nowrap text-right text-sm font-medium"},Ve={class:"px-6 py-4 max-w-[8rem] truncate whitespace-nowrap text-right text-sm font-medium"},Ie={class:"py-3 px-3"},We={class:"flex justify-start gap-2 text-xs font-medium"},Ee={class:"sr-only"},Ge=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),Qe=["onClick"],Re=e("span",{class:"sr-only"},"Next Page",-1),qe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Je=[Re,qe],Ye=z({__name:"test-detail",setup(Ke){const _=w(""),{getTests:$,getDevices:C}=L(),{data:i}=f(["devices"],C,{staleTime:1e3*60*10,cacheTime:1e3*60*10,refetchOnMount:!1,refetchOnWindowFocus:!1});M(()=>i.value,()=>{i.value&&i.value.length&&(_.value=i.value[0].id)});const{data:u}=f(["tests",_.value],$,{staleTime:1e3*60*10,cacheTime:1e3*60*10,refetchOnMount:!1,refetchOnWindowFocus:!1}),{getProfile:T}=B(),{data:b}=f(["profile"],T,{staleTime:1e3*60*60,cacheTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1}),g=k(()=>{var l,p;if(!b.value)return[];if(!u.value)return[];const t=(l=b.value)==null?void 0:l.addresses.map(o=>o);return console.log(t,"values"),(p=u.value)==null?void 0:p.map(o=>{var r;return{...o,callId:(r=u.value)==null?void 0:r.indexOf(o),address:t.find(h=>o.address).address.district}})}),n=w(1),v=k(()=>{var t;return(t=g.value)!=null&&t.length?Math.floor(g.value.length/5+1):1}),m=t=>{t<1||t>v.value||(console.log(t),n.value=t)};return(t,l)=>{const p=F;return d(),j(p,{hide:!1},{default:O(()=>{var o;return[e("div",N,[e("div",P,[e("div",S,[e("div",null,[e("div",H,[e("label",V,s(t.$t("select-test")),1),e("select",I,[e("option",null,s(t.$t("all")),1),e("option",null,s(t.$t("non-permissible")),1),e("option",null,s(t.$t("slightly-permissible")),1),e("option",W,s(t.$t("permissible")),1)])]),e("div",E,[e("nav",G,[e("a",Q,s(t.$t("all")),1),e("a",R,s(t.$t("permissible")),1),e("a",q,s(t.$t("slightly-permissible")),1),e("a",J,s(t.$t("non-permissible")),1)])])])]),e("div",K,[e("div",U,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("label",se,s(t.$t("search")),1),e("input",{type:"text",name:"hs-table-search",id:"hs-table-search",class:"p-2.5 border pl-10 block w-full border-gray-200 rounded-md text-sm focus:border-primary focus:ring-primary",placeholder:t.$t("search-by-test")},null,8,re),ae]),e("div",null,[e("div",oe,[e("select",le,[e("option",de,s(t.$t("sort-by")),1),ie,ne,ce])])]),e("div",null,[e("div",he,[e("select",pe,[e("option",ue,s(t.$t("filter-by")),1),(d(!0),c(y,null,x(a(i),r=>(d(),c("option",{key:r.id,value:r.id},s(r.serialNo),9,ge))),128))])])]),e("div",null,[e("button",me,[A(s(t.$t("download"))+" ",1),fe])]),ye]),e("div",xe,[e("div",_e,[e("table",be,[e("thead",ve,[e("tr",null,[we,e("th",ke,s(t.$t("s-no")),1),e("th",$e,s(t.$t("device-id")),1),e("th",Ce,s(t.$t("test-name")),1),e("th",Te,s(t.$t("result")),1),e("th",ze,s(t.$t("date")),1),e("th",Le,s(t.$t("time")),1),e("th",Me,s(t.$t("address")),1),e("th",Be,s(t.$t("source")),1)])]),e("tbody",je,[(d(!0),c(y,null,x((o=a(g))==null?void 0:o.filter((r,h)=>h>=(a(n)-1)*5&&h<a(n)*5),r=>(d(),c("tr",{key:r.id},[Oe,e("td",Ae,"0"+s(r.callId+1),1),e("td",De,s(a(i).find(h=>h.id===r.device).serialNo),1),e("td",Fe,s(r.testParam),1),e("td",Ne,s(r.testValue),1),e("td",Pe,s(new Date(r.testedAt).toLocaleDateString()),1),e("td",Se,s(new Date(r.testedAt).toLocaleTimeString()),1),e("td",He,s(r.address),1),e("td",Ve,s(r.unit),1)]))),128))])])])]),e("div",Ie,[e("ol",We,[e("li",null,[e("button",{onClick:l[0]||(l[0]=()=>m(a(n)-1)),class:"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180"},[e("span",Ee,s(t.$t("prev-page")),1),Ge])]),(d(!0),c(y,null,x(a(v),r=>(d(),c("li",null,[e("button",{onClick:()=>m(r),class:D(["block h-8 w-8 rounded border border-gray-100 bg-white text-center leading-8 text-gray-900",{"!bg-primary text-white":a(n)===r}])},s(r),11,Qe)]))),256)),e("li",null,[e("button",{onClick:l[1]||(l[1]=()=>m(a(n)+1)),class:"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180"},Je)])])])])])])])])])])]}),_:1})}}});export{Ye as default};
